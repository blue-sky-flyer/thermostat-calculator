<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acosta Smart Thermostat Calculator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(to bottom right, #f8fafc, #f1f5f9);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .container {
            max-width: 80rem;
            margin: 0 auto;
        }
        
        .header {
            margin-bottom: 2rem;
        }
        
        .header h1 {
            font-size: 2.25rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 1.125rem;
            color: #475569;
        }
        
        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .tab-button.active {
            background-color: #2563eb;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(37, 99, 235, 0.3);
        }
        
        .tab-button.inactive {
            background-color: white;
            color: #475569;
            border: 1px solid #e2e8f0;
        }
        
        .tab-button.inactive:hover {
            border-color: #3b82f6;
        }
        
        .card {
            background: white;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
            margin-bottom: 1.5rem;
        }
        
        .card h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 1.5rem;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }
        
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }
        
        @media (max-width: 768px) {
            .grid-2 { grid-template-columns: 1fr; }
            .grid-3 { grid-template-columns: 1fr; }
            .grid-4 { grid-template-columns: 1fr 1fr; }
            .header h1 { font-size: 1.875rem; }
        }
        
        .form-group {
            margin-bottom: 2rem;
        }
        
        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: #475569;
            margin-bottom: 0.75rem;
        }
        
        select, input[type="range"] {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #cbd5e1;
            border-radius: 0.375rem;
            font-size: 1rem;
        }
        
        select:focus, input[type="range"]:focus {
            outline: none;
            ring: 2px;
            ring-color: #2563eb;
            border-color: transparent;
        }
        
        .slider-value {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }
        
        .slider-value span {
            font-size: 1.125rem;
            font-weight: 700;
            color: #2563eb;
        }
        
        .help-text {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 0.5rem;
        }
        
        .metric {
            background: #f8fafc;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
        }
        
        .metric-label {
            font-size: 0.875rem;
            color: #64748b;
            margin-bottom: 0.5rem;
        }
        
        .metric-value {
            font-size: 1.875rem;
            font-weight: 700;
            color: #0f172a;
        }
        
        .metric-subtext {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 0.5rem;
        }
        
        .insight-card {
            border-radius: 0.5rem;
            padding: 1.5rem;
            border: 1px solid #cbd5e1;
        }
        
        .insight-card.green {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }
        
        .insight-card.blue {
            background: #eff6ff;
            border-color: #bfdbfe;
        }
        
        .insight-card.orange {
            background: #fffbeb;
            border-color: #fed7aa;
        }
        
        .insight-label {
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .insight-card.green .insight-label { color: #166534; }
        .insight-card.blue .insight-label { color: #1e40af; }
        .insight-card.orange .insight-label { color: #92400e; }
        
        .insight-value {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .insight-card.green .insight-value { color: #16a34a; }
        .insight-card.blue .insight-value { color: #2563eb; }
        .insight-card.orange .insight-value { color: #ea580c; }
        
        .insight-text {
            font-size: 0.875rem;
        }
        
        .insight-card.green .insight-text { color: #15803d; }
        .insight-card.blue .insight-text { color: #1e40af; }
        .insight-card.orange .insight-text { color: #b45309; }
        
        .pitch-box {
            background: #f1f5f9;
            border-left: 4px solid #2563eb;
            padding: 1.5rem;
            border-radius: 0.375rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            color: #334155;
            line-height: 1.6;
        }
        
        .pitch-box p {
            margin-bottom: 1rem;
        }
        
        .pitch-box p:last-child {
            margin-bottom: 0;
        }
        
        .table-container {
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }
        
        thead {
            background: #f1f5f9;
            border-bottom: 2px solid #e2e8f0;
        }
        
        th {
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: #475569;
        }
        
        td {
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            color: #334155;
        }
        
        tr:hover {
            background: #f8fafc;
        }
        
        .tier1 {
            background: #f0fdf4;
        }
        
        .tier1:hover {
            background: #e0fce8;
        }
        
        .score-high {
            color: #16a34a;
            font-weight: 700;
        }
        
        .score-medium {
            color: #ea580c;
            font-weight: 700;
        }
        
        .legend {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            font-size: 0.875rem;
        }
        
        @media (max-width: 768px) {
            .legend {
                grid-template-columns: 1fr;
            }
        }
        
        .legend-item {
            padding: 0.75rem;
            background: #f8fafc;
            border-radius: 0.375rem;
            border-left: 3px solid #cbd5e1;
        }
        
        .legend-item strong {
            display: block;
            color: #1e293b;
            margin-bottom: 0.25rem;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        function ThermostatTools() {
            const [activeTab, setActiveTab] = useState('matrix');
            const [selectedRegion, setSelectedRegion] = useState('national');
            const [installationCost, setInstallationCost] = useState(325);
            const [savingsPercentage, setSavingsPercentage] = useState(12);
            
            const regions = [
                { name: 'Maine', state: 'ME', currentRate: 22.62, yoyIncrease: 23.8, heatPumpAdoption: 'High', allElectricPenetration: 'High', category: 'Tier 1' },
                { name: 'District of Columbia', state: 'DC', currentRate: 20.50, yoyIncrease: 24.5, heatPumpAdoption: 'Medium', allElectricPenetration: 'Medium', category: 'Tier 1' },
                { name: 'New Jersey', state: 'NJ', currentRate: 21.00, yoyIncrease: 21.6, heatPumpAdoption: 'Medium', allElectricPenetration: 'Medium', category: 'Tier 1' },
                { name: 'Massachusetts', state: 'MA', currentRate: 27.00, yoyIncrease: 8.5, heatPumpAdoption: 'Very High', allElectricPenetration: 'High', category: 'Tier 1' },
                { name: 'Connecticut', state: 'CT', currentRate: 26.50, yoyIncrease: 7.2, heatPumpAdoption: 'High', allElectricPenetration: 'High', category: 'Tier 1' },
                { name: 'California', state: 'CA', currentRate: 28.00, yoyIncrease: 6.8, heatPumpAdoption: 'Very High', allElectricPenetration: 'Very High', category: 'Tier 1' },
                { name: 'New Hampshire', state: 'NH', currentRate: 22.62, yoyIncrease: 12.3, heatPumpAdoption: 'High', allElectricPenetration: 'High', category: 'Tier 1' },
                { name: 'New York', state: 'NY', currentRate: 18.50, yoyIncrease: 11.2, heatPumpAdoption: 'High', allElectricPenetration: 'Medium', category: 'Tier 2' },
                { name: 'Vermont', state: 'VT', currentRate: 20.00, yoyIncrease: 9.8, heatPumpAdoption: 'High', allElectricPenetration: 'Medium', category: 'Tier 2' },
                { name: 'Pennsylvania (PJM)', state: 'PA', currentRate: 16.50, yoyIncrease: 14.2, heatPumpAdoption: 'Medium', allElectricPenetration: 'Low-Medium', category: 'Tier 2' },
                { name: 'Oregon', state: 'OR', currentRate: 14.80, yoyIncrease: 8.5, heatPumpAdoption: 'Very High', allElectricPenetration: 'High', category: 'Tier 2' },
                { name: 'Washington', state: 'WA', currentRate: 13.20, yoyIncrease: 7.3, heatPumpAdoption: 'Very High', allElectricPenetration: 'High', category: 'Tier 2' },
                { name: 'National Average', state: 'US', currentRate: 15.22, yoyIncrease: 4.8, heatPumpAdoption: 'Medium', allElectricPenetration: 'Medium', category: 'Baseline' },
            ];
            
            const calculatorData = {
                national: { rate: 15.22, annualCost: 761 },
                maine: { rate: 22.62, annualCost: 1131 },
                massachusetts: { rate: 27.00, annualCost: 1350 },
                california: { rate: 28.00, annualCost: 1400 },
                newjersey: { rate: 21.00, annualCost: 1050 },
            };
            
            const calculateScore = (region) => {
                let score = 0;
                if (region.currentRate >= 25) score += 40;
                else if (region.currentRate >= 22) score += 35;
                else if (region.currentRate >= 20) score += 30;
                else if (region.currentRate >= 18) score += 25;
                else if (region.currentRate >= 16) score += 15;
                else score += 5;
                
                if (region.yoyIncrease >= 20) score += 30;
                else if (region.yoyIncrease >= 14) score += 25;
                else if (region.yoyIncrease >= 10) score += 20;
                else if (region.yoyIncrease >= 8) score += 15;
                else score += 5;
                
                if (region.heatPumpAdoption === 'Very High') score += 20;
                else if (region.heatPumpAdoption === 'High') score += 15;
                else if (region.heatPumpAdoption === 'Medium') score += 10;
                else score += 5;
                
                if (region.allElectricPenetration === 'Very High') score += 10;
                else if (region.allElectricPenetration === 'High') score += 8;
                else if (region.allElectricPenetration === 'Medium') score += 5;
                else score += 2;
                
                return score;
            };
            
            const sortedRegions = [...regions]
                .map(region => ({ ...region, score: calculateScore(region) }))
                .sort((a, b) => b.score - a.score);
            
            const currentData = calculatorData[selectedRegion] || calculatorData.national;
            const annualSavings = (currentData.annualCost * savingsPercentage) / 100;
            const paybackYears = installationCost / annualSavings;
            const fiveYearSavings = annualSavings * 5 - installationCost;
            const tenYearSavings = annualSavings * 10 - installationCost;
            const annualROI = ((annualSavings - (installationCost / 10)) / installationCost) * 100;
            
            return (
                <div className="container">
                    <div className="header">
                        <h1>Acosta Smart Thermostat Tools</h1>
                        <p>Geographic Opportunity Scoring & ROI Calculator</p>
                    </div>
                    
                    <div className="tabs">
                        <button 
                            onClick={() => setActiveTab('matrix')}
                            className={`tab-button ${activeTab === 'matrix' ? 'active' : 'inactive'}`}
                        >
                            Geographic Matrix
                        </button>
                        <button 
                            onClick={() => setActiveTab('calculator')}
                            className={`tab-button ${activeTab === 'calculator' ? 'active' : 'inactive'}`}
                        >
                            ROI Calculator
                        </button>
                    </div>
                    
                    {activeTab === 'matrix' && (
                        <div>
                            <div className="card">
                                <h2>Scoring Methodology</h2>
                                <div className="legend">
                                    <div className="legend-item">
                                        <strong>Electricity Rate</strong>
                                        <div>0-40 pts (current Â¢/kWh)</div>
                                    </div>
                                    <div className="legend-item">
                                        <strong>YoY Rate Increase</strong>
                                        <div>0-30 pts (% change)</div>
                                    </div>
                                    <div className="legend-item">
                                        <strong>Heat Pump Adoption</strong>
                                        <div>0-20 pts (regional %)</div>
                                    </div>
                                    <div className="legend-item">
                                        <strong>All-Electric Homes</strong>
                                        <div>0-10 pts (penetration)</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="card">
                                <div className="table-container">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Rank</th>
                                                <th>Region</th>
                                                <th style={{ textAlign: 'center' }}>Score</th>
                                                <th style={{ textAlign: 'center' }}>Current Rate</th>
                                                <th style={{ textAlign: 'center' }}>YoY Increase</th>
                                                <th style={{ textAlign: 'center' }}>Heat Pump</th>
                                                <th style={{ textAlign: 'center' }}>All-Electric</th>
                                                <th>Tier</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {sortedRegions.map((region, index) => (
                                                <tr key={region.state} className={index < 7 ? 'tier1' : ''}>
                                                    <td>{index < 7 ? 'ðŸŽ¯' : `#${index + 1}`}</td>
                                                    <td><strong>{region.name}</strong></td>
                                                    <td style={{ textAlign: 'center' }}>
                                                        <span className={index < 7 ? 'score-high' : 'score-medium'}>
                                                            {region.score}
                                                        </span>
                                                    </td>
                                                    <td style={{ textAlign: 'center' }}>{region.currentRate.toFixed(2)}Â¢</td>
                                                    <td style={{ textAlign: 'center' }}>
                                                        {region.yoyIncrease > 10 ? (
                                                            <strong style={{ color: '#dc2626' }}>{region.yoyIncrease.toFixed(1)}%</strong>
                                                        ) : (
                                                            `${region.yoyIncrease.toFixed(1)}%`
                                                        )}
                                                    </td>
                                                    <td style={{ textAlign: 'center' }}>{region.heatPumpAdoption}</td>
                                                    <td style={{ textAlign: 'center' }}>{region.allElectricPenetration}</td>
                                                    <td>{region.category}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div className="grid-3">
                                <div className="insight-card green">
                                    <div className="insight-label">Tier 1 Priority</div>
                                    <div className="insight-value">7 Regions</div>
                                    <div className="insight-text">Score 80+: Highest immediate ROI opportunity</div>
                                </div>
                                <div className="insight-card blue">
                                    <div className="insight-label">Top Market</div>
                                    <div className="insight-value">California</div>
                                    <div className="insight-text">Highest rates + very high heat pump adoption</div>
                                </div>
                                <div className="insight-card orange">
                                    <div className="insight-label">Fastest Growing</div>
                                    <div className="insight-value">Maine (23.8%)</div>
                                    <div className="insight-text">Urgent messaging opportunity</div>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {activeTab === 'calculator' && (
                        <div>
                            <div className="card">
                                <h2>Customize Your Calculation</h2>
                                
                                <div className="grid-2">
                                    <div className="form-group">
                                        <label>Select Region (Preset Rates)</label>
                                        <select 
                                            value={selectedRegion}
                                            onChange={(e) => setSelectedRegion(e.target.value)}
                                        >
                                            <option value="national">National Average (15.22Â¢/kWh)</option>
                                            <option value="maine">Maine (22.62Â¢/kWh)</option>
                                            <option value="massachusetts">Massachusetts (27.00Â¢/kWh)</option>
                                            <option value="california">California (28.00Â¢/kWh)</option>
                                            <option value="newjersey">New Jersey (21.00Â¢/kWh)</option>
                                        </select>
                                    </div>
                                    
                                    <div className="form-group">
                                        <label>Estimated Annual HVAC Cost</label>
                                        <div style={{ paddingTop: '0.5rem', fontSize: '1.25rem', fontWeight: '700', color: '#2563eb' }}>
                                            ${currentData.annualCost.toFixed(0)}/year
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="form-group" style={{ marginTop: '2rem' }}>
                                    <div className="slider-value">
                                        <label style={{ marginBottom: 0 }}>Installation Cost</label>
                                        <span>${installationCost}</span>
                                    </div>
                                    <input 
                                        type="range" 
                                        min="200" 
                                        max="500" 
                                        step="25"
                                        value={installationCost}
                                        onChange={(e) => setInstallationCost(parseFloat(e.target.value))}
                                    />
                                    <div className="help-text">Range: $200 - $500</div>
                                </div>
                                
                                <div className="form-group">
                                    <div className="slider-value">
                                        <label style={{ marginBottom: 0 }}>Annual Savings %</label>
                                        <span>{savingsPercentage}%</span>
                                    </div>
                                    <input 
                                        type="range" 
                                        min="8" 
                                        max="18" 
                                        step="1"
                                        value={savingsPercentage}
                                        onChange={(e) => setSavingsPercentage(parseFloat(e.target.value))}
                                    />
                                    <div className="help-text">Typical: 10-15% energy savings</div>
                                </div>
                            </div>
                            
                            <div className="grid-2">
                                <div className="card">
                                    <h2>Quick Metrics</h2>
                                    
                                    <div className="metric" style={{ marginBottom: '1rem' }}>
                                        <div className="metric-label">Annual Savings</div>
                                        <div className="metric-value" style={{ color: '#2563eb' }}>
                                            ${annualSavings.toFixed(0)}/year
                                        </div>
                                    </div>
                                    
                                    <div className="metric" style={{ marginBottom: '1rem' }}>
                                        <div className="metric-label">Payback Period</div>
                                        <div className="metric-value" style={{ color: '#16a34a' }}>
                                            {paybackYears.toFixed(1)} years
                                        </div>
                                        <div className="metric-subtext">
                                            {paybackYears <= 2 ? 'âœ“ Excellent' : paybackYears <= 3 ? 'âœ“ Good' : 'â–³ Acceptable'}
                                        </div>
                                    </div>
                                    
                                    <div className="metric">
                                        <div className="metric-label">Year 1 ROI</div>
                                        <div className="metric-value" style={{ color: '#ea580c' }}>
                                            {annualROI.toFixed(0)}%
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="card">
                                    <h2>Long-Term Value</h2>
                                    
                                    <div className="metric" style={{ marginBottom: '1rem' }}>
                                        <div className="metric-label">5-Year Net Savings</div>
                                        <div className="metric-value" style={{ color: '#16a34a' }}>
                                            ${fiveYearSavings.toFixed(0)}
                                        </div>
                                        <div className="metric-subtext">After installation cost</div>
                                    </div>
                                    
                                    <div className="metric" style={{ marginBottom: '1rem' }}>
                                        <div className="metric-label">10-Year Net Savings</div>
                                        <div className="metric-value" style={{ color: '#15803d' }}>
                                            ${tenYearSavings.toFixed(0)}
                                        </div>
                                        <div className="metric-subtext">Plus compounding rate increases</div>
                                    </div>
                                    
                                    <div className="metric">
                                        <div className="metric-label">Monthly Savings</div>
                                        <div className="metric-value" style={{ color: '#2563eb' }}>
                                            ${(annualSavings / 12).toFixed(0)}/month
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="card">
                                <h2>Sales Pitch Template</h2>
                                <div className="pitch-box">
                                    <p>
                                        "Your annual HVAC cost today is ${currentData.annualCost.toFixed(0)}. With a smart thermostat, you'll save {savingsPercentage}% annuallyâ€”that's ${annualSavings.toFixed(0)} per year."
                                    </p>
                                    <p>
                                        "Installation is just ${installationCost}, which means this pays for itself in about {paybackYears.toFixed(1)} years. After that, it's pure savings."
                                    </p>
                                    <p>
                                        "Over 10 years, you're looking at ${tenYearSavings.toFixed(0)} in net savingsâ€”plus your system's efficiency stays high. This is the smartest investment you can make right now."
                                    </p>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }
        
        ReactDOM.render(<ThermostatTools />, document.getElementById('root'));
    </script>
</body>
</html>
